<!--
  面板拖拽实例
  注意点：
  1，鼠标按下时的点在拖动过程中相对于面板的位置不能变；
  2，面板不能出可视窗口的边界；
  知识点：
  1，获取可视窗口的宽度与高度: 
  document.documentElement.clientWidth || document.body.clientWidth;
  document.documentElement.clientHeight || document.body.clientHeight;
  2，获取面板的宽度与高度：
  box.offsetWidth;
  box.offsetHeight;
  3，获取面板距离窗口边界的距离：
  box.offsetLeft;
  box.offsetTop;
-->
<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>面板拖拽</title>
<style>
	*{margin: 0; padding: 0; font-family: "微软雅黑"; list-style: none; text-decoration: none;}
	#box{width: 300px; height: 200px; border: 1px solid gray; 
		position: absolute; left: 300px; top: 150px;}
	#header{height: 30px; line-height: 30px; background-color: #ccc; 
		text-align: center; font-weight: bold;}
	#content{line-height: 160px; text-align: center;}
</style>
<script>
	$(document).ready(function(){
		var box = document.getElementById('box'),
			header = document.getElementById('header');
		//给面板标题栏绑定mousedown事件
		header.onmousedown = function(e1){
			//鼠标点击时，鼠标相对于面板左上角的坐标
			var disX = e1.clientX - box.offsetLeft,
				disY = e1.clientY - box.offsetTop;
			//窗口宽度与高度
			var winWidth = document.documentElement.clientWidth || document.body.clientWidth,
				winHeight = document.documentElement.clientHeight || document.body.clientHeight;
			//可拖拽的范围
			var maxLeft = winWidth - box.offsetWidth,
				maxTop = winHeight - box.offsetHeight;
			//当鼠标在标题栏点击时，才可以拖动，绑定mousemove事件
			document.onmousemove = function(e2){
				//拖动时面板左上角的坐标
				var posX = e2.clientX - disX,
					posY = e2.clientY - disY;
				//限制拖动范围
				if(posX < 0){
					posX = 0
				}else if(posX > maxLeft){
					posX = maxLeft;
				}
				if(posY < 0){
					posY = 0;
				}else if(posY > maxTop){
					posY = maxTop;
				}
				box.style.left = posX + 'px';
				box.style.top = posY + 'px';
			};
		};
		//松开鼠标时，解除mousemove事件的绑定
		document.onmouseup = function(){
			document.onmousemove = null;
		};
	});

</script>
</head>
<body>
	<div id="box">
		<div id="header">标题</div>
		<div id="content">This is content.</div>
	</div>
</body>
</html>